# Generated by Django 5.2 on 2025-05-05 09:58

from django.db import migrations


def add_registration_achievement(apps, schema_editor):
    User = apps.get_model('accounts', 'User')
    Achievement = apps.get_model('accounts', 'Achievement')

    for user in User.objects.all():
        if not Achievement.objects.filter(user=user, title='–ü–µ—Ä–≤—ã–π —à–∞–≥').exists():
            Achievement.objects.create(
                user=user,
                title='–ü–µ—Ä–≤—ã–π —à–∞–≥',
                description='–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ!',
                icon='üéâ',
                is_unlocked=True
            )


class Migration(migrations.Migration):
    dependencies = [
        # –£–∫–∞–∂–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è accounts
    ]

    operations = [
        migrations.RunPython(add_registration_achievement),
    ]